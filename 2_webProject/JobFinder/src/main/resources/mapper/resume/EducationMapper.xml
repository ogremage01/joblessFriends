<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.joblessfriend.jobfinder.resume.education">

    <resultMap type="com.joblessfriend.jobfinder.resume.domain.EducationVo" id="educationResultMap">
        <id column="EDU_ID" property="eduId" />
        <result column="RESUME_ID" property="resumeId" />
        <result column="EDU_INSTITUTION" property="eduInstitution" />
        <result column="EDU_NAME" property="eduName" />     
        <result column="START_DATE" property="startDate" javaType="java.util.Date" />
        <result column="END_DATE" property="endDate" javaType="java.util.Date" />   
    </resultMap>
    
    <select id="educationSelectList" resultMap="educationResultMap">
        SELECT EDU_ID, RESUME_ID, EDU_INSTITUTION, EDU_NAME, START_DATE, END_DATE
        FROM EDUCATION
        WHERE RESUME_ID=#{resumeId}
    </select>

	<insert id="educationInsertOne" parameterType="com.joblessfriend.jobfinder.resume.domain.EducationVo">
		INSERT INTO EDUCATION
		(EDU_ID, RESUME_ID, EDU_INSTITUTION, EDU_NAME, START_DATE, END_DATE)
		VALUES(EDU_ID_SEQ.NEXTVAL, #{resumeId}, #{eduInstitution}, #{eduName}, #{startDate}, #{endDate})
	</insert>
	
	<delete id="educationDeleteOne" parameterType="map">
		DELETE FROM EDUCATION
        WHERE RESUME_ID=#{resumeId}
        AND EDU_ID=#{eduId}
	</delete>
	
	<update id="educationUpdateOne" parameterType="com.joblessfriend.jobfinder.resume.domain.EducationVo">
		UPDATE EDUCATION
		SET EDU_NAME = #{eduName}
		, START_DATE = #{startDate}
		, END_DATE = #{endDate}
		WHERE RESUME_ID = #{resumeId}
		AND EDU_ID = #{eduId};
	</update>
</mapper>
